'use strict';

exports.__esModule = true;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _radium = require('radium');

var _radium2 = _interopRequireDefault(_radium);

var _reactRouter = require('react-router');

var _CatalogPropTypes = require('../../CatalogPropTypes');

var _path = require('../../utils/path');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }

var RadiumRouterLink = (0, _radium2.default)(_reactRouter.Link);

var Link = function Link(_ref, _ref2) {
  var catalog = _ref2.catalog;

  var to = _ref.to,
      rest = _objectWithoutProperties(_ref, ['to']);

  return (0, _path.isInternalPath)(to, catalog) ? _react2.default.createElement(RadiumRouterLink, _extends({ to: (0, _path.parsePath)(to, catalog) }, rest)) : _react2.default.createElement('a', _extends({ href: to }, rest));
};

Link.propTypes = {
  to: _react.PropTypes.string.isRequired
};

Link.contextTypes = {
  catalog: _CatalogPropTypes.catalogShape.isRequired
};

exports.default = Link;